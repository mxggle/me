<!DOCTYPE html>
<html lang="en">

<head><meta name="generator" content="Hexo 3.9.0">

  <!-- Minima -->
  <!-- Hexo theme created by @adisaktijrs -->

  <!-- Basic Page Needs
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <meta charset="utf-8">

  
  <title>Frpå†…ç½‘ç©¿é€</title>
  
  <link rel="canonical" href="https://mxggle.github.io/me/2021/06/26/Frpå†…ç½‘ç©¿é€/">
  
  <meta name="description" content="å†…ç½‘ç©¿é€ç”¨æ¥å¹²å˜›å†…ç½‘ç©¿é€å¯ä»¥è¿æ¥å†…ç½‘æœåŠ¡å™¨ï¼Œåœ¨å¤–ç½‘æ¼”ç¤ºå†…ç½‘webç«™ç‚¹ï¼Œè¿æ¥å®¶é‡Œçš„NASï¼Œè¿œç¨‹å®¶é‡Œçš„ç”µè„‘ç­‰ç­‰æˆ‘ä¸»è¦æ˜¯å› ä¸ºæŸé‡Œäº‘ï¼ŒæŸè®¯äº‘å•¥çš„é«˜é…ç½®æœåŠ¡å™¨å¤ªè´µäº†ï¼Œæ‰“å·¥äººè¡¨ç¤ºä¹°ä¸èµ·ã€‚ä½é…ç½®çš„æœåŠ¡å™¨åˆåŸºæœ¬ä¸Šåªèƒ½å½“ä¸ªblogæœåŠ¡å™¨ã€‚å®¶é‡Œæ­£å¥½æœ‰ä¸ªåºŸæ—§ç¬”è®°æœ¬ï¼Œè¿˜æ˜¯å›ºæ€ç¡¬ç›˜ï¼Œé£Ÿä¹‹æ— å‘³å¼ƒä¹‹å¯æƒœã€‚æˆ‘å°±åœ¨ä¸Šé¢è£…äº†ä¸ªubun">
  
  
  <meta name="keywords" content="å‰ç«¯ ä»£ç  ç¨‹åºå‘˜ å‰ä»– æ—…è¡Œ Dota2 æ•°ç æ§ ç¾å‰§">
  
  <meta name="author" content="harry">
  
  <meta property="og:image" content="https://mxggle.github.io/meundefined">
  
  <meta property="og:site_name" content="harryâ€˜s blog">
  <meta property="og:type" content="article">
  <meta property="og:title" content="Frpå†…ç½‘ç©¿é€">
  
  <meta property="og:description" content="å†…ç½‘ç©¿é€ç”¨æ¥å¹²å˜›å†…ç½‘ç©¿é€å¯ä»¥è¿æ¥å†…ç½‘æœåŠ¡å™¨ï¼Œåœ¨å¤–ç½‘æ¼”ç¤ºå†…ç½‘webç«™ç‚¹ï¼Œè¿æ¥å®¶é‡Œçš„NASï¼Œè¿œç¨‹å®¶é‡Œçš„ç”µè„‘ç­‰ç­‰æˆ‘ä¸»è¦æ˜¯å› ä¸ºæŸé‡Œäº‘ï¼ŒæŸè®¯äº‘å•¥çš„é«˜é…ç½®æœåŠ¡å™¨å¤ªè´µäº†ï¼Œæ‰“å·¥äººè¡¨ç¤ºä¹°ä¸èµ·ã€‚ä½é…ç½®çš„æœåŠ¡å™¨åˆåŸºæœ¬ä¸Šåªèƒ½å½“ä¸ªblogæœåŠ¡å™¨ã€‚å®¶é‡Œæ­£å¥½æœ‰ä¸ªåºŸæ—§ç¬”è®°æœ¬ï¼Œè¿˜æ˜¯å›ºæ€ç¡¬ç›˜ï¼Œé£Ÿä¹‹æ— å‘³å¼ƒä¹‹å¯æƒœã€‚æˆ‘å°±åœ¨ä¸Šé¢è£…äº†ä¸ªubun">
  
  <meta property="og:url" content="https://mxggle.github.io/me/2021/06/26/Frpå†…ç½‘ç©¿é€/">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Frpå†…ç½‘ç©¿é€">
  
  <meta name="twitter:description" content="å†…ç½‘ç©¿é€ç”¨æ¥å¹²å˜›å†…ç½‘ç©¿é€å¯ä»¥è¿æ¥å†…ç½‘æœåŠ¡å™¨ï¼Œåœ¨å¤–ç½‘æ¼”ç¤ºå†…ç½‘webç«™ç‚¹ï¼Œè¿æ¥å®¶é‡Œçš„NASï¼Œè¿œç¨‹å®¶é‡Œçš„ç”µè„‘ç­‰ç­‰æˆ‘ä¸»è¦æ˜¯å› ä¸ºæŸé‡Œäº‘ï¼ŒæŸè®¯äº‘å•¥çš„é«˜é…ç½®æœåŠ¡å™¨å¤ªè´µäº†ï¼Œæ‰“å·¥äººè¡¨ç¤ºä¹°ä¸èµ·ã€‚ä½é…ç½®çš„æœåŠ¡å™¨åˆåŸºæœ¬ä¸Šåªèƒ½å½“ä¸ªblogæœåŠ¡å™¨ã€‚å®¶é‡Œæ­£å¥½æœ‰ä¸ªåºŸæ—§ç¬”è®°æœ¬ï¼Œè¿˜æ˜¯å›ºæ€ç¡¬ç›˜ï¼Œé£Ÿä¹‹æ— å‘³å¼ƒä¹‹å¯æƒœã€‚æˆ‘å°±åœ¨ä¸Šé¢è£…äº†ä¸ªubun">
  
  
  <meta name="twitter:image" content="https://mxggle.github.io/meundefined">
  
  <meta name="twitter:url" content="https://mxggle.github.io/me/2021/06/26/Frpå†…ç½‘ç©¿é€/">

  <!-- Mobile Specific Metas
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Preload fonts
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <link rel="preload" href="../fonts/dm-serif-display-v4-latin-regular.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="../fonts/inter-v2-latin-regular.woff2" as="font" type="font/woff2" crossorigin>

  <!-- CSS
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <link rel="stylesheet" href="/css/normalize.css">
  <link rel="stylesheet" href="/css/skeleton.css">
  <link rel="stylesheet" href="/css/custom.css">
  <link rel="stylesheet" href="/css/prism-dark.css">
  <link rel="stylesheet" href="/css/prism-line-numbers.css">
  <!-- User css -->
  
  <link rel="stylesheet" href="/css/user.css">
  

  <!-- Favicon
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <link rel="icon" type="image/png" href="/images/favicon.png">

  <!-- Custom Theme Color Style
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <style>
  a:not(.icon) {
    text-decoration-color: #191919;
    background-image: linear-gradient(
      to bottom,
      rgba(0, 0, 0, 0) 50%,
      #191919 50%
    );
  }
  blockquote {
    border-left: 8px solid #191919;
  }
  .nanobar .bar {
    background: #191919;
  }
  .button.button-primary:hover,
  button.button-primary:hover,
  input[type="submit"].button-primary:hover,
  input[type="reset"].button-primary:hover,
  input[type="button"].button-primary:hover,
  .button.button-primary:focus,
  button.button-primary:focus,
  input[type="submit"].button-primary:focus,
  input[type="reset"].button-primary:focus,
  input[type="button"].button-primary:focus {
    background-color: #191919;
    border-color: #191919;
  }
  input[type="email"]:focus,
  input[type="number"]:focus,
  input[type="search"]:focus,
  input[type="text"]:focus,
  input[type="tel"]:focus,
  input[type="url"]:focus,
  input[type="password"]:focus,
  textarea:focus,
  select:focus {
    border: 1px solid #191919;
  }
</style>

  <!-- Google Analytics (With Privacy Settings On)
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  

</head>

<body>
  <div class="container">
    <div class="row">
      <div>

        <div class="row">
  <div class="two columns" style="max-width: 50px">
    <h1 class="mt-2 mode">
      <div onclick="setDarkMode(true)" id="darkBtn">ğŸŒ‘</div>
      <div onclick="setDarkMode(false)" id="lightBtn" class="hidden">â˜€ï¸</div>
      <script>
        if (localStorage.getItem('preferredTheme') == 'dark') {
          setDarkMode(true)
        }
        function setDarkMode(isDark) {
          var darkBtn = document.getElementById('darkBtn')
          var lightBtn = document.getElementById('lightBtn')
          if (isDark) {
            lightBtn.style.display = "block"
            darkBtn.style.display = "none"
            localStorage.setItem('preferredTheme', 'dark');
          } else {
            lightBtn.style.display = "none"
            darkBtn.style.display = "block"
            localStorage.removeItem('preferredTheme');
          }
          document.body.classList.toggle("darkmode");
        }
      </script>
    </h1>
  </div>

  <div class="six columns ml-1">
    <h1 class="mt-2">
      Hi Folks.
    </h1>
  </div>

  <div class="twelve columns">
    <div class="row">
      <div class="nine columns left">
        <a href="/">Home</a>
        
          
          <a href="/About" class="ml">About</a>
          
        
        
          
            <a href="mailto:muggle6594@gmail.com" target="_blank" class="ml">Email</a>
          
        
      </div>
    </div>
    <hr style="margin-bottom: 2.6rem">
  </div>
</div>

        <div class="trans">
            <h2>Frpå†…ç½‘ç©¿é€</h2>

  <h2 id="å†…ç½‘ç©¿é€ç”¨æ¥å¹²å˜›"><a href="#å†…ç½‘ç©¿é€ç”¨æ¥å¹²å˜›" class="headerlink" title="å†…ç½‘ç©¿é€ç”¨æ¥å¹²å˜›"></a>å†…ç½‘ç©¿é€ç”¨æ¥å¹²å˜›</h2><p>å†…ç½‘ç©¿é€å¯ä»¥è¿æ¥å†…ç½‘æœåŠ¡å™¨ï¼Œåœ¨å¤–ç½‘æ¼”ç¤ºå†…ç½‘webç«™ç‚¹ï¼Œè¿æ¥å®¶é‡Œçš„NASï¼Œè¿œç¨‹å®¶é‡Œçš„ç”µè„‘ç­‰ç­‰<br>æˆ‘ä¸»è¦æ˜¯å› ä¸ºæŸé‡Œäº‘ï¼ŒæŸè®¯äº‘å•¥çš„é«˜é…ç½®æœåŠ¡å™¨å¤ªè´µäº†ï¼Œæ‰“å·¥äººè¡¨ç¤ºä¹°ä¸èµ·ã€‚ä½é…ç½®çš„æœåŠ¡å™¨åˆåŸºæœ¬ä¸Šåªèƒ½å½“ä¸ªblogæœåŠ¡å™¨ã€‚å®¶é‡Œæ­£å¥½æœ‰ä¸ªåºŸæ—§ç¬”è®°æœ¬ï¼Œè¿˜æ˜¯å›ºæ€ç¡¬ç›˜ï¼Œé£Ÿä¹‹æ— å‘³å¼ƒä¹‹å¯æƒœã€‚æˆ‘å°±åœ¨ä¸Šé¢è£…äº†ä¸ªubuntuæ¥ç©ç©ä¸€äº›æŠ€æœ¯ï¼Œç„¶åå°±é¡ºä¾¿å†…ç½‘ç©¿é€ä¸€ä¸‹ã€‚</p>
<h2 id="ä¸ºå•¥éœ€è¦å†…ç½‘ç©¿é€"><a href="#ä¸ºå•¥éœ€è¦å†…ç½‘ç©¿é€" class="headerlink" title="ä¸ºå•¥éœ€è¦å†…ç½‘ç©¿é€"></a>ä¸ºå•¥éœ€è¦å†…ç½‘ç©¿é€</h2><p>å¦‚æœæ²¡æœ‰å…¬ç½‘ IPï¼Œé‚£ä¹ˆæ„å‘³ç€ä½ åœ¨æœ¬æœºä¸Šç›‘å¬çš„ä»»ä½•ç«¯å£ï¼Œéƒ½åªèƒ½åœ¨æœ¬æœºç½‘å¡æ‰€åœ¨çš„ç½‘ç»œä¸­è®¿é—®ï¼Œè¿™ä¸ªç½‘ç»œä¸€èˆ¬æ˜¯è·¯ç”±å™¨ LAN ç«¯æ‰€åœ¨çš„ç½‘ç»œã€‚ä¸€èˆ¬æƒ…å†µä¸‹è·¯ç”±å™¨ WAN ç«¯æ‰€è¿æ¥åˆ°çš„ç½‘ç»œå°†æ— æ³•æ­£å¸¸è®¿é—®è¯¥ä¸»æœºæä¾›çš„æœåŠ¡ã€‚</p>
<p>é‚£ä¹ˆæ€æ ·æ‰èƒ½è®¿é—®åˆ°å‘¢ï¼Ÿ<br><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/efeb5803bf64496284e118707bdd3c79~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p>ä½¿ç”¨è·¯ç”±å™¨çš„ç«¯å£è½¬å‘æˆ–è€…DMZå°†å†…ç½‘ä¸­çš„è®¾å¤‡æ˜ å°„åˆ°å¤–ç½‘ï¼Œä½†æ˜¯è¿™é‡Œæœ‰ä¸ªå‰æï¼Œä½ å¾—æœ‰ä¸€ä¸ªå…¬ç½‘IPï¼Œå¦‚æœæ˜¯é™æ€çš„å…¬ç½‘IPï¼Œæœ€å¥½åŠï¼Œç›´æ¥æ˜ å°„å°±è¡Œã€‚å¦‚æœæ˜¯åŠ¨æ€çš„ï¼Œä½¿ç”¨DDNSæœåŠ¡å»å®šæ—¶è§£æåŸŸåã€‚ä½†é—®é¢˜æ˜¯ï¼Œè¿è¥å•†å¹¶ä¸ä¼šç»™ä½ åˆ†é…ä¸€ä¸ªå…¬ç½‘IP, åªä¼šåˆ†é…ç»™ä½ ä¸€ä¸ªä»–çš„å†…ç½‘IPï¼ˆ<a href="https://zh.wikipedia.org/wiki/%E7%94%B5%E4%BF%A1%E7%BA%A7NAT" target="_blank" rel="noopener">ç”µä¿¡çº§NAT</a>ï¼‰,ç”±äºä¹‹å‰æ²¡è€ƒè™‘åˆ°è¿™ç‚¹ï¼Œæˆ‘ä¹‹å‰æäº†åŠå¤©çš„DDNSä¸€ç›´éƒ½æ²¡ç”Ÿæ•ˆã€‚å¯ä»¥é€šè¿‡å¯¹æ¯” è·¯ç”±å™¨ WAN IP å’Œ ä¸Šç½‘æŸ¥ä¸€ä¸‹å½“å‰IPåœ°å€æ˜¯å¦ä¸€è‡´ï¼Œå¦‚æœä¸€è‡´å°±æ˜¯é™æ€å…¬ç½‘ï¼Œå¦åˆ™å°±æ˜¯åŠ¨æ€çš„</p>
<p>å·§å¦‡éš¾ä¸ºæ— ç±³ä¹‹ç‚Šï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒåŸºæœ¬ä¸Šåªèƒ½ä½¿ç”¨å†…ç½‘ç©¿é€çš„æ–¹æ¡ˆäº†</p>
<p>ç›®å‰å¸‚é¢ä¸Šçš„å†…ç½‘ç©¿é€æ–¹æ¡ˆï¼š èŠ±ç”Ÿå£³ï¼Œnat123ï¼ŒNATAPPï¼Œngrok, Frp</p>
<p>æœ¬æ–‡ä¸»è¦è®²å¦‚ä½•ä½¿ç”¨Frp æ¥è¿›è¡Œå†…ç½‘ç©¿é€</p>
<h2 id="Frp-æ˜¯ä»€ä¹ˆ"><a href="#Frp-æ˜¯ä»€ä¹ˆ" class="headerlink" title="Frp æ˜¯ä»€ä¹ˆ"></a>Frp æ˜¯ä»€ä¹ˆ</h2><p>frp æ˜¯ä¸€ä¸ªä¸“æ³¨äºå†…ç½‘ç©¿é€çš„é«˜æ€§èƒ½çš„åå‘ä»£ç†åº”ç”¨ï¼Œæ”¯æŒ TCPã€UDPã€HTTPã€HTTPS ç­‰å¤šç§åè®®ã€‚å¯ä»¥å°†å†…ç½‘æœåŠ¡ä»¥å®‰å…¨ã€ä¾¿æ·çš„æ–¹å¼é€šè¿‡å…·æœ‰å…¬ç½‘ IP èŠ‚ç‚¹çš„ä¸­è½¬æš´éœ²åˆ°å…¬ç½‘ã€‚<br><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5fa05c5d38384ac290a9beb9accf6ee4~tplv-k3u1fbpfcp-watermark.image" alt="image.png"><br>è¯¦ç»†ä»‹ç»å¯ä»¥çœ‹å®ƒçš„<a href="https://github.com/fatedier/frp" target="_blank" rel="noopener">GitHub</a></p>
<h2 id="éœ€è¦å‡†å¤‡çš„å†…å®¹"><a href="#éœ€è¦å‡†å¤‡çš„å†…å®¹" class="headerlink" title="éœ€è¦å‡†å¤‡çš„å†…å®¹"></a>éœ€è¦å‡†å¤‡çš„å†…å®¹</h2><ol>
<li>ä¸€å°æ‹¥æœ‰å…¬ç½‘IPçš„æœåŠ¡å™¨ï¼Œè¿™å°æœåŠ¡å™¨çš„å¸¦å®½æ€§èƒ½å†³å®šäº†ç©¿é€çš„è¿æ¥è´¨é‡ï¼Œæˆ‘æ˜¯åœ¨61å„¿ç«¥èŠ‚çš„æ—¶å€™ä½ä»·è´­å…¥äº†ä¸€å°1æ ¸2G4Mçš„æœºå™¨ï¼Œ4Mçš„å¸¦å®½åœ¨å¾ˆä½çš„ä»·æ ¼ä¹°åˆ°çœŸçš„ç®—å¾ˆé¦™äº†ï¼Œå¦‚æœä¹°ä¸åˆ°çš„è¯å¯ä»¥è¯•è¯•çœ‹å›½å¤–çš„VPSå¦‚<a href="https://www.vultr.com/" target="_blank" rel="noopener">vultr</a>ï¼Œå›½å¤–æœåŠ¡å™¨è™½ç„¶å»¶è¿Ÿé«˜ï¼Œä½†å¸¦å®½å‡ºå¥‡çš„å¤§</li>
<li>ä¸€å°å†…ç½‘æœåŠ¡å™¨ï¼Œè¿™ä¸ªå°±æ˜¯ç©¿é€çš„ç›®çš„åœ°ï¼Œæˆ‘ç”¨çš„æ˜¯å®¶é‡ŒåºŸæ—§ç¬”è®°æœ¬é‡è£…çš„ubuntu</li>
</ol>
<h2 id="å¼€å§‹å®‰è£…"><a href="#å¼€å§‹å®‰è£…" class="headerlink" title="å¼€å§‹å®‰è£…"></a>å¼€å§‹å®‰è£…</h2><p>å¯ä»¥åˆ°ä»¥ä¸‹ç›®å½•å»æ ¹æ®ä½ çš„ç”µè„‘ä¸‹è½½å¯¹åº”çš„ç‰ˆæœ¬</p>
<p><a href="https://github.com/fatedier/frp/releases" target="_blank" rel="noopener">https://github.com/fatedier/frp/releases</a> </p>
<p>ç„¶åä½¿ç”¨<code>wget</code>ä¸‹è½½</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget https://github.com/fatedier/frp/releases/download/v0.37.0/frp_0.37.0_linux_amd64.tar.gz</span><br></pre></td></tr></table></figure>

<p>è§£å‹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar -zxvf frp_0.37.0_linux_amd64.tar.gz</span><br></pre></td></tr></table></figure>

<p>é‡æ–°å‘½åå¹¶è¿›å…¥ç›®å½•</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mv frp_0.37.0_linux_amd64 frp &amp;&amp; <span class="built_in">cd</span> <span class="variable">$_</span></span><br></pre></td></tr></table></figure>

<p>ç›®å½•ç»“æ„å¦‚ä¸‹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ LICENSE</span><br><span class="line">â”œâ”€â”€ frpc <span class="comment"># å®¢æˆ·ç«¯å¯æ‰§è¡Œæ–‡ä»¶</span></span><br><span class="line">â”œâ”€â”€ frpc.ini <span class="comment"># å®¢æˆ·ç«¯é…ç½®æ–‡ä»¶</span></span><br><span class="line">â”œâ”€â”€ frpc_full.ini</span><br><span class="line">â”œâ”€â”€ frps <span class="comment"># æœåŠ¡æœåŠ¡ç«¯å¯æ‰§è¡Œæ–‡ä»¶</span></span><br><span class="line">â”œâ”€â”€ frps.ini <span class="comment"># æœåŠ¡ç«¯é…ç½®æ–‡ä»¶</span></span><br><span class="line">â”œâ”€â”€ frps_full.ini</span><br><span class="line">â”œâ”€â”€ nohup.out <span class="comment"># æ‰§è¡Œnohupåçš„æ—¥å¿—æ–‡ä»¶</span></span><br><span class="line">â””â”€â”€ systemd <span class="comment"># service æ–‡ä»¶</span></span><br><span class="line">    â”œâ”€â”€ frpc.service</span><br><span class="line">    â”œâ”€â”€ frpc@.service</span><br><span class="line">    â”œâ”€â”€ frps.service</span><br><span class="line">    â””â”€â”€ frps@.service</span><br></pre></td></tr></table></figure>

<h2 id="é…ç½®å®¢æˆ·ç«¯"><a href="#é…ç½®å®¢æˆ·ç«¯" class="headerlink" title="é…ç½®å®¢æˆ·ç«¯"></a>é…ç½®å®¢æˆ·ç«¯</h2><p>è¿™é‡Œè¯´çš„å®¢æˆ·ç«¯å°±æ˜¯ä½ åœ¨å†…ç½‘éœ€è¦è¢«å¤–ç½‘è®¿é—®çš„æœºå™¨<br>æ‰“å¼€<code>frpc.ini</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[common]</span><br><span class="line">server_addr = 45.76.49.24 # å…¬ç½‘æœåŠ¡å™¨çš„Ipåœ°å€</span><br><span class="line">server_port = 7000 # frpç»‘å®šçš„æœåŠ¡ç«¯çš„ç«¯å£</span><br><span class="line">token = 12345678 # å’ŒæœåŠ¡ç«¯è¿æ¥çš„ä»¤ç‰Œ</span><br><span class="line"></span><br><span class="line"># ä¸‹é¢æ˜¯ä½ éœ€è¦æš´éœ²å‡ºå»çš„æœåŠ¡</span><br><span class="line">[rdp]</span><br><span class="line">type = tcp</span><br><span class="line">local_ip = 127.0.0.1</span><br><span class="line">local_port = 3389</span><br><span class="line">remote_port = 7001</span><br><span class="line"></span><br><span class="line">[smb]</span><br><span class="line">type = tcp</span><br><span class="line">sk = muggleszy</span><br><span class="line">local_ip = 192.168.31.190</span><br><span class="line">local_port = 445</span><br><span class="line">remote_port = 7002</span><br><span class="line"></span><br><span class="line">[ssh]</span><br><span class="line">type = tcp</span><br><span class="line">local_ip = 127.0.0.1</span><br><span class="line">local_port = 22</span><br><span class="line">remote_port = 6000</span><br><span class="line"></span><br><span class="line">[web]</span><br><span class="line">type = http</span><br><span class="line">local_port = 80</span><br><span class="line">custom_domains = www.yourdomain.com # ä½ çš„åŸŸå</span><br><span class="line">http_user = user</span><br><span class="line">http_passwd = user</span><br></pre></td></tr></table></figure>

<h2 id="é…ç½®æœåŠ¡ç«¯"><a href="#é…ç½®æœåŠ¡ç«¯" class="headerlink" title="é…ç½®æœåŠ¡ç«¯"></a>é…ç½®æœåŠ¡ç«¯</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[common]</span><br><span class="line">bind_port = 7000 # frpç»‘å®šç«¯å£</span><br><span class="line">dashboard_port = 7500 # æ§åˆ¶å°é¡µé¢ç«¯å£</span><br><span class="line">token = 12345678 # å’Œå®¢æˆ·ç«¯è¿æ¥çš„ä»¤ç‰Œ</span><br><span class="line">dashboard_user = admin # æ§åˆ¶å°ç™»å½•ç”¨æˆ·å</span><br><span class="line">dashboard_pwd = admin # æ§åˆ¶å°ç™»å½•å¯†ç </span><br><span class="line">vhost_http_port = 10080 # httpè®¿é—®ç«¯å£</span><br><span class="line">vhost_https_port = 10443 # httpsè®¿é—®ç«¯å£</span><br></pre></td></tr></table></figure>

<h2 id="å¯åŠ¨æœåŠ¡"><a href="#å¯åŠ¨æœåŠ¡" class="headerlink" title="å¯åŠ¨æœåŠ¡"></a>å¯åŠ¨æœåŠ¡</h2><p>å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å¯åŠ¨çš„æ–¹å¼åŸºæœ¬ç›¸åŒï¼Œå¯ä»¥ç”¨ä¸‹é¢ä¸¤ç§æ–¹å¼</p>
<h3 id="æ–¹å¼ä¸€ï¼šé€šè¿‡systemctlå°†frpé…ç½®æˆä¸€ä¸ªservice"><a href="#æ–¹å¼ä¸€ï¼šé€šè¿‡systemctlå°†frpé…ç½®æˆä¸€ä¸ªservice" class="headerlink" title="æ–¹å¼ä¸€ï¼šé€šè¿‡systemctlå°†frpé…ç½®æˆä¸€ä¸ªservice"></a>æ–¹å¼ä¸€ï¼šé€šè¿‡systemctlå°†frpé…ç½®æˆä¸€ä¸ªservice</h3><p>è¿™ç§æ–¹å¼é…ç½®å¥½ä¹‹åï¼Œé™¤äº†ä¼šåå°è¿è¡Œä¹‹å¤–ï¼Œè¿˜å¯ä»¥å°†å®ƒè®¾ç½®æˆå¼€æœºå¯åŠ¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">/etc/systemd/system</span><br></pre></td></tr></table></figure>

<p>æ–°å»ºä¸€ä¸ªfrpcæœåŠ¡å¹¶ç¼–è¾‘</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vi frpc.service</span><br></pre></td></tr></table></figure>

<p>ä¸€ä¸‹æ˜¯æˆ‘çš„é…ç½®æ–‡ä»¶ï¼Œè®°å¾—å°†<code>/path/to</code>æ›´æ¢æˆä½ frpæ–‡ä»¶æ‰€åœ¨ç›®å½•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=Frp Client Service</span><br><span class="line">After=network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=simple</span><br><span class="line">Restart=on-failure</span><br><span class="line">RestartSec=5s</span><br><span class="line">ExecStart=/path/to/frp/frpc -c /path/to/frp/frpc.ini</span><br><span class="line">ExecReload=/path/to/frp/frpc reload -c /path/to/frp/frpc.ini</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>

<p>é…ç½®æ–‡ä»¶ç¼–è¾‘å¥½ä¹‹åä¿å­˜ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤é‡è½½é…ç½®æ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo systemctl daemon-reload</span><br></pre></td></tr></table></figure>

<p>å¯åŠ¨æœåŠ¡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo systemctl start frpc.service</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹æœåŠ¡çŠ¶æ€ï¼Œç¡®è®¤ä¸‹æ˜¯å¦å¯åŠ¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo systemctl status frpc.service</span><br></pre></td></tr></table></figure>

<p>çœ‹åˆ°ç±»ä¼¼ä¸‹å›¾è¿™æ ·çš„çŠ¶æ€ï¼Œå°±è¡¨ç¤ºå¯åŠ¨æˆåŠŸäº†<br><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3a5cb87f348f4de9bb6a2c2b1640635f~tplv-k3u1fbpfcp-watermark.image" alt="image.png"><br>è®¾ç½®å¼€æœºå¯åŠ¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo systemctl enable frpc.service</span><br></pre></td></tr></table></figure>

<p>å…¶ä»–æ“ä½œ, å¦‚æœå‘ç°æœåŠ¡å¯åŠ¨å¤±è´¥ä½†æ˜¯åˆä¸æ¸…æ¥šä»€ä¹ˆåŸå› å¯ä»¥é€šè¿‡æŸ¥çœ‹æ—¥å¿—çš„æ–¹å¼å»æ’æŸ¥ä¸€ä¸‹ï¼Œä¹‹å‰æˆ‘åœ¨è®¾ç½®çš„æ—¶å€™å‘ç°ä¸€ç›´å¯åŠ¨æŠ¥é”™ï¼ŒæŸ¥äº†ä¸‹æ—¥å¿—å‘ç°æ˜¯æƒé™æœ‰é—®é¢˜ï¼Œåœ¨æ£€æŸ¥ä¸€ä¸‹é…ç½®æ–‡ä»¶å‘ç°å°†é…ç½®æ–‡ä»¶ä¸­<code>[Service]</code> æ¨¡å—ä¸­çš„Userè®¾ç½®æˆäº†nobody <code>User=nobody</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># é‡å¯æœåŠ¡</span><br><span class="line">sudo systemctl restart frpc.service</span><br><span class="line"># åœæ­¢æœåŠ¡</span><br><span class="line">sudo systemctl stop frpc.service</span><br><span class="line"># æŸ¥çœ‹æ—¥å¿—</span><br><span class="line">sudo journalctl -u frpc.service</span><br><span class="line"># å®æ—¶è¾“å‡ºæœ€æ–°æ—¥å¿—</span><br><span class="line">sudo journalctl --follow -u node-server</span><br></pre></td></tr></table></figure>

<h3 id="æ–¹å¼äºŒï¼š-nohup"><a href="#æ–¹å¼äºŒï¼š-nohup" class="headerlink" title="æ–¹å¼äºŒï¼š nohup"></a>æ–¹å¼äºŒï¼š <a href="https://linux.die.net/man/1/nohup" target="_blank" rel="noopener">nohup</a></h3><p>è¿™ç§æ–¹å¼å°±æ˜¯å›¾å¿«ï¼Œä¸ç”¨é…ç½®serviceä»€ä¹ˆçš„ï¼Œç›´æ¥ä¸€ä¸ªå‘½ä»¤å°±æå®šäº†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># åˆ«å¿˜äº†æœ€åçš„ &amp; å®ƒè¡¨ç¤ºåå°è¿è¡Œ</span><br><span class="line">nohup ./frpc -c frpc.ini &amp;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œåç›®å½•ä¸­å°±ä¼šå‡ºç°ä¸€ä¸ªå«<code>nohup.out</code>çš„æ–‡ä»¶,å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤æ¥æ£€æŸ¥æœåŠ¡å¯åŠ¨çŠ¶æ€</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tail -f nohup.out</span><br></pre></td></tr></table></figure>

<p>æœåŠ¡ç«¯å¯åŠ¨çš„æ–¹æ³•å’Œå®¢æˆ·ç«¯å¯åŠ¨åŸºæœ¬ä¸€æ ·ï¼Œåªæ˜¯éœ€å°†å…¶ä¸­çš„frpcæ›¿æ¢æˆfrpså°±è¡Œï¼Œå¦‚<code>frps.service</code></p>
<p>å½“å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½å¯åŠ¨æˆåŠŸåï¼Œå°±å¤§åŠŸå‘Šæˆäº†ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥æ£€æŸ¥ä¸€ä¸‹ç©¿é€æ˜¯å¦æˆåŠŸäº†</p>
<p>å¯ä»¥æ‰“å¼€ <code>server_addr:7500</code> æ¥çœ‹ä¸€ä¸‹ç©¿é€çŠ¶æ€ã€‚æ­£å¸¸å¯ä»¥çœ‹åˆ°ä¸‹é¢è¿™ä¸ªé¡µé¢ã€‚</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d2891539e7254b73b47a90907f4e956f~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p>é€šè¿‡sshå»å°è¯•ç™»å½•ä¸€ä¸‹å†…ç½‘æœºå™¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ssh -p remote_port username@server_addr</span><br></pre></td></tr></table></figure>

<p>åœ¨è¿™é‡Œä½ ä¹Ÿå¯ä»¥ç»™<code>server_addr</code>ç»‘å®šä¸€ä¸ªåŸŸå</p>
<p>æœ€åå¦‚æœï¼Œéœ€è¦é…ç½®å¤šä¸ªwebæœåŠ¡ï¼Œå¯ä»¥å‚è€ƒä¸€ä¸‹è¿™ä¸ª<a href="https://github.com/fatedier/frp/issues/914" target="_blank" rel="noopener">issue</a>, ä¸€ç§æ˜¯è‡ªå®šä¹‰åŸŸåçš„æ–¹å¼å¦ä¸€ç§æ˜¯é€šè¿‡TCPè½¬å‘</p>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://gofrp.org/docs/" target="_blank" rel="noopener">https://gofrp.org/docs/</a><br><a href="https://juejin.cn/post/6854573210306871304" target="_blank" rel="noopener">https://juejin.cn/post/6854573210306871304</a><br><a href="https://sspai.com/post/52523" target="_blank" rel="noopener">https://sspai.com/post/52523</a></p>

  <p> â€” Jun 26, 2021</p>
  


          <div class="row mt-2">
  
    <div class="eight columns">
      <p id="madewith">Made with â¤ and
        <a class="footer-link icon" href="https://hexo.io" target="_blank" style="text-decoration: none;" rel="noreferrer" aria-label="Hexo.io">
        <svg class="hexo svg-hov" width="14" role="img" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><title>Hexo.js</title><path d="M12 .007L1.57 6.056V18.05L12 23.995l10.43-6.049V5.952L12 .007zm4.798 17.105l-.939.521-.939-.521V12.94H9.08v4.172l-.94.521-.938-.521V6.89l.939-.521.939.521v4.172h5.84V6.89l.94-.521.938.521v10.222z"/></svg>
        </a>
        
    </p></div>

    <!-- Sepcial thanks to https://simpleicons.org/ for the icons -->
    <div class="four columns mb-3 posisi">
      
      <a class="ml-0 footer-link icon" href="https://github.com/mxggle" target="_blank" style="text-decoration: none" rel="noreferrer" aria-label="GitHub">
        <svg class="github svg-hov" width="18" role="img" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
      </a>
      

      

      
      <a class="ml-0 footer-link icon" href="https://twitter.com/shuizheny" target="_blank" style="text-decoration: none" rel="noreferrer" aria-label="Twitter">
        <svg class="twitter svg-hov" width="18" role="img" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Twitter</title><path d="M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z"/></svg>
      </a>
      

      

      
      <a class="ml-0 footer-link icon" href="https://stackoverflow.com/users/7354315/muggle" target="_blank" style="text-decoration: none" rel="noreferrer" aria-label="StackOverflow">
        <svg class="stackoverflow svh-hov" width="18" role="img" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Stack Overflow</title><path d="M15.725 0l-1.72 1.277 6.39 8.588 1.716-1.277L15.725 0zm-3.94 3.418l-1.369 1.644 8.225 6.85 1.369-1.644-8.225-6.85zm-3.15 4.465l-.905 1.94 9.702 4.517.904-1.94-9.701-4.517zm-1.85 4.86l-.44 2.093 10.473 2.201.44-2.092-10.473-2.203zM1.89 15.47V24h19.19v-8.53h-2.133v6.397H4.021v-6.396H1.89zm4.265 2.133v2.13h10.66v-2.13H6.154Z"/></svg>
      </a>
      

    </div>
  
</div>

        </div>
      </div>

    </div>

  </div>
  <script src="/js/nanobar.min.js"></script>
  <script>
    var options = {
      classname: 'nanobar',
      id: 'myNanobar'
    };
    var nanobar = new Nanobar(options);
    nanobar.go(30);
    nanobar.go(76);
    nanobar.go(100);
  </script>

</body>

</html>
